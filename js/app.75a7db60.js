(function(t){function a(a){for(var n,i,o=a[0],c=a[1],u=a[2],p=0,d=[];p<o.length;p++)i=o[p],Object.prototype.hasOwnProperty.call(r,i)&&r[i]&&d.push(r[i][0]),r[i]=0;for(n in c)Object.prototype.hasOwnProperty.call(c,n)&&(t[n]=c[n]);l&&l(a);while(d.length)d.shift()();return s.push.apply(s,u||[]),e()}function e(){for(var t,a=0;a<s.length;a++){for(var e=s[a],n=!0,o=1;o<e.length;o++){var c=e[o];0!==r[c]&&(n=!1)}n&&(s.splice(a--,1),t=i(i.s=e[0]))}return t}var n={},r={app:0},s=[];function i(a){if(n[a])return n[a].exports;var e=n[a]={i:a,l:!1,exports:{}};return t[a].call(e.exports,e,e.exports,i),e.l=!0,e.exports}i.m=t,i.c=n,i.d=function(t,a,e){i.o(t,a)||Object.defineProperty(t,a,{enumerable:!0,get:e})},i.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},i.t=function(t,a){if(1&a&&(t=i(t)),8&a)return t;if(4&a&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(i.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&a&&"string"!=typeof t)for(var n in t)i.d(e,n,function(a){return t[a]}.bind(null,n));return e},i.n=function(t){var a=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(a,"a",a),a},i.o=function(t,a){return Object.prototype.hasOwnProperty.call(t,a)},i.p="/tripresso_interview/";var o=window["webpackJsonp"]=window["webpackJsonp"]||[],c=o.push.bind(o);o.push=a,o=o.slice();for(var u=0;u<o.length;u++)a(o[u]);var l=c;s.push([0,"chunk-vendors"]),e()})({0:function(t,a,e){t.exports=e("56d7")},"2cbc":function(t,a,e){},"56d7":function(t,a,e){"use strict";e.r(a);e("4de4"),e("ac1f"),e("38cf"),e("5319"),e("e260"),e("e6cf"),e("cca6"),e("a79d");var n=e("2b0e"),r=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{attrs:{id:"app"}},[e("router-view")],1)},s=[],i=(e("5c0b"),e("2877")),o={},c=Object(i["a"])(o,r,s,!1,null,null,null),u=c.exports,l=e("8c4f"),p=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"groupdata"},[e("div",{staticClass:"container"},[e("Sortbar",{attrs:{sort:t.sort},on:{"update:sort":function(a){t.sort=a}}}),t._v(" "),t._l(t.data,(function(a,n){return e("div",{key:n,staticClass:"cards"},[e("div",{staticClass:"img"},[e("img",{attrs:{src:a.image_url}})]),e("div",{staticClass:"info"},[e("div",{staticClass:"infocontent"},[e("h5",{staticClass:"agency"},[t._v(" "+t._s(a.agency)+" "+t._s(t._f("rating")(a.rating))+" ")]),e("h5",{staticClass:"title"},[t._v(" "+t._s(a.title)+" ")]),e("div",{staticClass:"tags"},t._l(a.tags,(function(a,n){return e("div",{key:n},[e("button",{staticClass:"tag"},[t._v(t._s(a))])])})),0),e("hr",{staticStyle:{margin:"5px 0px"}}),e("div",{staticClass:"timenumprice"},[e("div",{staticClass:"timeandnum"},t._l(a.group,(function(a,n){return e("div",{key:n,staticStyle:{"margin-right":"10px"}},[e("p",{staticClass:"date"},[t._v(t._s(t._f("date")(a.date))+" ( "+t._s(t._f("day")(a.date))+" )")]),e("button",{staticClass:"num"},[t._v(" 可售"+t._s(a.quantity)+"位")])])})),0),e("div",{staticStyle:{width:"25%","text-align":"right"}},[e("p",{staticClass:"bigfont"},[t._v(t._s(a.tour_days))]),e("p",{staticClass:"normalfont"},[t._v("天")]),e("p",{staticClass:"bigfont"},[t._v(t._s(t._f("currency")(a.min_price)))]),e("p",{staticClass:"normalfont"},[t._v("元起")])])])])])])})),e("Pagination",{attrs:{pageNumber:t.pageNumber},on:{"update:pageNumber":function(a){t.pageNumber=a},"update:page-number":function(a){t.pageNumber=a}}}),t._v(" "),e("p",[t._v("第"+t._s(t.pageNumber)+"頁")])],2),e("loading",{attrs:{active:t.isloading},on:{"update:active":function(a){t.isloading=a}}})],1)},d=[],f=(e("99af"),e("96cf"),e("1da1")),g=e("bc3a"),b=e.n(g),v=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"pagination"},[e("div",{staticClass:"pagination-row"},[e("button",{staticClass:"btn btn-light",on:{click:function(a){return t.resetpage(t.pageNumber-1)}}},[t._v(" < ")]),t._v(" "),t._l(new Array(10),(function(a,n){return e("span",{key:n},[e("button",{staticClass:"btn btn-light",on:{click:function(a){return t.resetpage(n+1)}}},[t._v(t._s(n+1))])])})),e("button",{staticClass:"btn btn-light",on:{click:function(a){return t.resetpage(t.pageNumber+1)}}},[t._v(" > ")])],2)])},h=[],m=(e("a9e3"),{name:"pagination",props:{pageNumber:{type:Number}},data:function(){return{pagenumber:this.pageNumber}},methods:{resetpage:function(t){this.pagenumber=t,this.$emit("update:pageNumber",this.pagenumber)}}}),_=m,w=(e("5b15"),Object(i["a"])(_,v,h,!1,null,"b8f62b4c",null)),y=w.exports,C=function(){var t=this,a=t.$createElement,e=t._self._c||a;return e("div",{staticClass:"sortbar"},[e("nav",{staticClass:"navbar navbar-expand navbar-light bg-light",staticStyle:{width:"100%",margin:"auto"}},[e("div",{staticClass:"collapse navbar-collapse",attrs:{id:"navbarSupportedContent"}},[e("ul",{staticClass:"navbar-nav mr-auto"},[e("li",{staticClass:"nav-item dropdown"},[e("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v(" 價格："+t._s(t.pricesort)+" ")]),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"navbarDropdown"}},[e("a",{staticClass:"dropdown-item btn",attrs:{href:"#"},on:{click:function(a){return t.sortmethod("price_desc","高至低","")}}},[t._v("高至低")]),e("a",{staticClass:"dropdown-item btn",attrs:{href:"#"},on:{click:function(a){return t.sortmethod("price_asc","低至高","")}}},[t._v("低至高")])])]),e("li",{staticClass:"nav-item dropdown"},[e("a",{staticClass:"nav-link dropdown-toggle",attrs:{href:"#",id:"navbarDropdown",role:"button","data-toggle":"dropdown","aria-haspopup":"true","aria-expanded":"false"}},[t._v(" 評分："+t._s(t.ratingsort)+" ")]),e("div",{staticClass:"dropdown-menu",attrs:{"aria-labelledby":"navbarDropdown"}},[e("a",{staticClass:"dropdown-item btn",attrs:{href:"#"},on:{click:function(a){return t.sortmethod("rating_desc","","高至低")}}},[t._v("高至低")]),e("a",{staticClass:"dropdown-item btn",attrs:{href:"#"},on:{click:function(a){return t.sortmethod("rating_asc","","低至高")}}},[t._v("低至高")])])])])])])])},x=[],k={name:"sortbar",props:{sort:{type:String}},data:function(){return{sorting:this.sort,pricesort:"低至高",ratingsort:""}},methods:{sortmethod:function(t,a,e){this.sorting=t,this.pricesort=a,this.ratingsort=e,this.$emit("update:sort",this.sorting)}}},N=k,O=Object(i["a"])(N,C,x,!1,null,null,null),j=O.exports,S={name:"groupdata",components:{Pagination:y,Sortbar:j},data:function(){return{isloading:!1,data:[],sort:"price_asc",pageNumber:1}},watch:{pageNumber:function(){this.getdata(this.pageNumber,10,this.sort)},sort:function(){this.getdata(1,10,this.sort),this.pageNumber=1}},created:function(){this.getdata(this.pageNumber,10,this.sort)},methods:{getdata:function(t,a,e){var n=this;return Object(f["a"])(regeneratorRuntime.mark((function r(){var s,i,o;return regeneratorRuntime.wrap((function(r){while(1)switch(r.prev=r.next){case 0:return r.prev=0,n.isloading=!0,n.data=[],s="https://cors-anywhere.herokuapp.com/",i="http://interview.tripresso.com/tour/search?page=".concat(t,"&row_per_page=").concat(a,"&sort=").concat(e),r.next=7,b.a.get("".concat(s).concat(i));case 7:o=r.sent,n.data=o.data.data.tour_list,r.next=14;break;case 11:r.prev=11,r.t0=r["catch"](0),console.log(r.t0);case 14:return r.prev=14,setTimeout((function(){n.isloading=!1}),500),r.finish(14);case 17:case 18:case"end":return r.stop()}}),r,null,[[0,11,14,17]])})))()}}},P=S,D=(e("e425"),Object(i["a"])(P,p,d,!1,null,"0526666e",null)),$=D.exports;n["a"].use(l["a"]);var M=[{path:"/",name:"groupdata",component:$}],E=new l["a"]({mode:"history",base:"/tripresso_interview/",routes:M}),T=E,A=e("2f62");n["a"].use(A["a"]);var J=new A["a"].Store({state:{},mutations:{},actions:{},modules:{}}),R=e("9062"),q=e.n(R);e("e40d"),e("1157"),e("4989"),e("ab8b");n["a"].config.productionTip=!1,n["a"].component("Loading",q.a),n["a"].filter("currency",(function(t){return t.replace(/(\d)(?=(\d{3})+(?!\d))/g,"$1,")})),n["a"].filter("date",(function(t){var a=new Date(t),e=a.getMonth()+1,n=a.getDate();return e<10&&(e="0"+e),n<10&&(n="0"+n),e+"/"+n})),n["a"].filter("day",(function(t){var a=new Date(t);return"日一二三四五六".charAt(a.getDay())})),n["a"].filter("rating",(function(t){return"★".repeat(t)+"☆".repeat(5-t)})),new n["a"]({router:T,store:J,data:function(){return{info:null}},render:function(t){return t(u)}}).$mount("#app")},"5b15":function(t,a,e){"use strict";e("2cbc")},"5c0b":function(t,a,e){"use strict";e("9c0c")},"9c0c":function(t,a,e){},b9c8:function(t,a,e){},e425:function(t,a,e){"use strict";e("b9c8")}});
//# sourceMappingURL=app.75a7db60.js.map